//schema ecommerce

generator client {
  provider = "prisma-client-js"
}


datasource db{
  provider = "mongodb"
  url = env("DATABASE_URL")
}


model User{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  email String @unique
  password String 
  role String @default("admin")
}

model Product{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  price Float
  description String
  imageUrl String
  category String
  sizes String[]
  stock Int
}

model Order {
  id        String       @id @default(auto()) @map("_id") @db.ObjectId
  email     String
  items     OrderItem[]
  total     Float
  status    String   @default("pending")
  createdAt DateTime @default(now())
}

model OrderItem {
  id        String  @id @default(auto()) @map("_id") @db.ObjectId
  productId String  @db.ObjectId
  quantity  Int
  orderId   String  @db.ObjectId
  order     Order   @relation(fields: [orderId], references: [id])
}